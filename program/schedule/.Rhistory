knitr::opts_chunk$set(echo = TRUE)
addtorow$pos <- list(-1, 0, 5)
addtorow <- list()
addtorow$pos <- list(-1, 0, 5)
addtorow$command <- c(paste0("& \\multicolumn{6}{c}{test}& \\multicolumn{6}{c}{test}", "& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
p1728_rooms <- paste0("P1728.r", 1:6)
addtorow <- list()
addtorow$pos <- list(-1, 0, 5)
addtorow$command <- c(paste0("& \\multicolumn{6}{c}{test}& \\multicolumn{6}{c}{test}", "& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
addtorow$command <- c("& \\multicolumn{6}{c}{test}& \\multicolumn{6}{c}{test}", ",paste0(& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}", ",paste0(& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}", ",paste0(& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n",
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
addtorow$command
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0(& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n",
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n",
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
print(xtp1728_sched, type = 'latex', add.to.row = addtorow, include.colnames = FALSE, include.rownames = T, comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H")
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n",
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n")))
addtorow$command
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
addtorow$command <- c("& \\multicolumn{6}{c}{test} & \\multicolumn{6}{c}{test}",paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"),
paste0("\\hline & \\multicolumn{6}{c||}{\\footnotesize{Send one student to ", p1728_rooms[1] ," to verify records}} &  \\multicolumn{6}{c|}{\\footnotesize{Send one student to ", p1728_rooms[4] ," to verify records}} \\\\\n"))
addtorow$command
paste0(rep("R", "H", each = 4), 1:4)
paste0(c(rep("R", "H", each = 4), 1:4))
(rep("R", "H", each = 4)
)
paste0((rep(c("R", "H", each = 4), 1:4))
paste0(rep(c("H", "R", each = 4)))
paste0(rep(c("H", "R"), each = 4))
paste0(rep(c("H", "R"), each = 4), 1:4)
paste0(rep(c("H", "R"), each = 6), 1:6)
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 4), 1:6), nrow = 2)
p1728_final_bracket
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 4), 1:6), nrow = 2, byrow = F)
p1728_final_bracket
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 4), 1:6), nrow = 2, byrow = T)
p1728_final_bracket
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 6), 1:6), nrow = 2, byrow = T)
p1728_final_bracket
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 6), 1:6, "\n\n\n"), nrow = 2, byrow = T)
p1728_final_bracket
library(xtable)
xp1728_final_bracket <- xtable(p1728_final_bracket)
align(p1728_final_bracket) <- "|X|X|X|X|X|X|"
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 6), 1:6, "\n\n\n"), nrow = 2, byrow = T)
xp1728_final_bracket <- xtable(p1728_final_bracket)
align(p1728_final_bracket) <- "|X|X|X|X|X|X|"
align(xp1728_final_bracket) <- "|X|X|X|X|X|X|"
align(xp1728_final_bracket) <- "|c|X|X|X|X|X|X|"
print(xp1728_final_bracket)
p1728_final_bracket <- matrix(paste0(rep(c("H", "R"), each = 6), 1:6, "\n\n\n"), nrow = 2, byrow = T)
xp1728_final_bracket <- xtable(p1728_final_bracket)
align(xp1728_final_bracket) <- "|c|X|X|X|X|X|X|"
print(xp1728_final_bracket)
cat("\n\n## Placement rounds\n")
p2948 <- placement_games[1:3,5:24]
placement_games <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-placement-schedule.csv", header = F, stringsAsFactors = F)
p2948 <- placement_games[1:3,5:24]
rownames(p2948) <- paste("R", 13:15)
p2948_rooms <- paste0("p2948.", 1:10)
p4971 <- placement_games[4:6,]
rownames(p4971) <- paste("R", 13:15)
p4971_rooms <- paste0("p4971.", 1:12)
p7296 <- placement_games[7:9,]
rownames(p7296) <- paste("R", 13:15)
p7296_rooms <- paste0("p7296.", 1:12)
print_placement_schedule <- function(which_bracket, rooms) {
xwhich_bracket <- xtable(which_bracket)
align_by <- capture.output(cat('|l', rep("|XX", ncol(which_bracket)/2), '|', sep = ""))
align(xwhich_bracket) <- align_by
addtorow$pos <- list(0)
addtorow$command <- capture.output(cat("\\hline ", paste0("& \\multicolumn{2}{c|}{\\footnotesize{", rooms ,"}}"), "\\\\\n"))
print(xwhich_bracket, type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", hline.after = 0:3, add.to.row = addtorow)
}
cat("\n\n### Tier II placement rounds\n")
pp <- matrix(paste0(LETTERS[5:8], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 29th Place & 33rd Place & 37th Place & 41st Place & 45th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
print_placement_schedule(which_bracket = p2948, p2948_rooms)
cat("\n\n### Tier III placement rounds\n")
pp <- matrix(paste0(LETTERS[9:12], rep(1:6, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0("& 49th Place & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
print_placement_schedule(which_bracket = p4971, p4971_rooms)
cat("\n\n### Tier IV placement rounds\n")
pp <- matrix(paste0(LETTERS[13:16], rep(1:6, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0("& 73rd Place & 77th Place & 81st Place & 85th Place & 89th place & 93rd place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
print_placement_schedule(which_bracket = p7296, p7296_rooms)
rep(c("H, R"), 1:6)
paste0(c("H, R"), 1:6)
paste0(rep(c("H, R"), times = 6) 1:6)
paste0(rep(c("H, R"), times = 6), 1:6)
paste0(rep(c("H", "R"), times = 6), 1:6)
paste0(rep(c("H", "R"), times = 6), rep(1:6, each = 2))
xp1728_final_sched <- xtable(p1728_final_sched)
p1728_final_sched <- paste0(rep(c("H", "R"), times = 6), rep(1:6, each = 2))
xp1728_final_sched <- xtable(p1728_final_sched)
p1728_final_sched <- matrix(paste0(rep(c("H", "R"), times = 6), rep(1:6, each = 2)))
xp1728_final_sched <- xtable(p1728_final_sched)
addtorow <- list()
addtorow$pos <- list(0)
addtorow$command <- c(paste0("& \\multicolumn{2}{c}{\\textbf{", p1728_rooms[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[2],"}} & \\multicolumn{2}{|c||}{\\textbf{", p1728_rooms[3],"}} & \\multicolumn{2}{c}{\\textbf{", p1728_rooms[4] ,"}} & \\multicolumn{2}{|c}{\\textbf{", p1728_rooms[5],"}} & \\multicolumn{2}{|c|}{\\textbf{", p1728_rooms[6],"}} \\\\\n"))
print(xp1728_final_sched, type = 'latex', add.to.row = addtorow, include.colnames = FALSE, include.rownames = T, comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H")
p1728_final_sched
p1728_final_sched <- matrix(paste0(rep(c("H", "R"), times = 6), rep(1:6, each = 2)), nrow = 1)
xp1728_final_sched <- xtable(p1728_final_sched)
p4971 <- placement_games[4:6, 5:20]
placement_games <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-placement-schedule.csv", header = F, stringsAsFactors = F)
p2948 <- placement_games[1:3,5:24]
p2948 <- placement_games[1:3,5:24]
rownames(p2948) <- paste("R", 13:15)
p2948_rooms <- paste0("p2948.", 1:10)
p4971 <- placement_games[4:6, 5:20]
rownames(p4971) <- paste("R", 13:15)
p4971_rooms <- paste0("p4971.", 1:12)
p7296 <- placement_games[7:9,]
rownames(p7296) <- paste("R", 13:15)
p7296_rooms <- paste0("p7296.", 1:12)
p4971
p4971
pp <- matrix(paste0(LETTERS[9:12], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|X|"
align(xtpp) <-"|l|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
print_placement_schedule(which_bracket = p4971, p4971_rooms)
p4971 <- placement_games[4:6,5:20]
p4971_rooms <- paste0("p4971.", 1:10)
cat("\n\n### Tier III placement rounds\n")
pp <- matrix(paste0(LETTERS[9:12], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
cat("\n\n### Tier III placement rounds\n")
pp <- matrix(paste0(LETTERS[9:12], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
pp
xtpp <- xtable(pp)
xtpp
align(xtpp) <-"|l|X|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
addtorow$command <- paste0(" & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
comment
xtpp
print_placement_schedule(which_bracket = p4971, p4971_rooms)
p4971
pp <- matrix(paste0(LETTERS[9:11], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
pp
xtpp <- xtable(pp)
pp <- matrix(paste0(LETTERS[9:12], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
pp
pp <- matrix(paste0(LETTERS[9:12], rep(2:5, each = 4), ":\n\n\n"), nrow = 4)
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|X|"
align(xtpp) <-"|l|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 53rd Place & 57th Place & 61st Place & 65th place & 69th place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
pp <- matrix(paste0(LETTERS[5:8], rep(2:6, each = 4), ":\n\n\n"), nrow = 4)
pp
pp <- matrix(paste0(LETTERS[5:8], rep(2:5, each = 4), ":\n\n\n"), nrow = 4)
pp
xtpp <- xtable(pp)
align(xtpp) <-"|l|X|X|X|X|"
addtorow$pos <- list(0)
addtorow$command <- paste0(" & 29th Place & 33rd Place & 37th Place & 41st Place \\\\\n")
print(xtpp,  type = 'latex', include.colnames = FALSE, include.rownames = TRUE,
comment=F, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", add.to.row = addtorow)
print_placement_schedule(which_bracket = p2948, p2948_rooms)
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(xtable)
s <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-schedule.csv", header = F)
prelim_brackets <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-brackets.csv", stringsAsFactors = F))
prelim_bracket_names <- names(prelim_brackets)
### CHANGE ME!
bracket_room_list <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-rooms.csv", stringsAsFactors = F, header = T))
# bracket_room_list <- list(maple = letters[1:4], oak = letters[1:4], birch = letters[1:4], willow = letters[1:4], cedar = letters[1:4],
# elm = letters[1:4], chestnut = letters[1:4], hemlock = letters[1:4], pine = letters[1:4], ash = letters[1:4],
# magnolia = letters[1:4], dogwood = letters[1:4])
s <- as.matrix(s)
# colnames(s)  <- NULL
make_brackets_schedule <- function(s, which_bracket) {
to_return <- s
for (ii in 1:8){
to_return[which(to_return == ii)] <- which_bracket[ii]
}
rownames(to_return) = paste("Round", 1:7)
return(to_return)
}
prelim_bracket_schedules <- lapply(prelim_brackets, function(x) make_brackets_schedule(s, x))
prelim_printer <- function(bracket_name, bracket_sched, bracket_room_list) {
addtorow <- list()
addtorow$pos <- list(0,7)
addtorow$command <- c(paste0("& \\multicolumn{2}{c}{\\textbf{", bracket_room_list[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", bracket_room_list[2],"}} & \\multicolumn{2}{|c}{\\textbf{", bracket_room_list[3],"}} & \\multicolumn{2}{|c|}{\\textbf{", bracket_room_list[4], "}}  \\\\\n"),
paste0("\\hline \\multicolumn{9}{|c|}{After Round 7, send one student to room \\textbf{", bracket_room_list[1],"} to verify records.}  \\\\\n"))
xbracket_sched <- xtable(bracket_sched)
align(xbracket_sched) <-"|r|XX|XX|XX|XX|"
print(xbracket_sched, type = 'latex', add.to.row = addtorow, include.colnames = FALSE, comment=F, sanitize.colnames.function = bold, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H")
}
for(ii in 1:12 ) {
cat(paste("\n\n##", prelim_bracket_names[ii], "\n"))
cat("### Teams:\n")
aa <- matrix(sort(prelim_bracket_schedules[[ii]][1,]))
print(kable(t(aa)))
cat("### Schedule:\n")
prelim_printer(names(bracket_room_list)[ii], prelim_bracket_schedules[[ii]], bracket_room_list[[ii]])
cat("Playoff assignments will be posted	in several locations and to	the	PACE website by 2:30pm.	Teams	are	expected to	be in	their	Round	8	room,	ready	to play, by	2:50pm.	These	times	are	subject	to change.")
if (ii %% 2 == 0) {  cat("\\clearpage")}
if (ii %% 2 == 1) {  cat(paste(" \n \n \n \\rule{\\textwidth}{.4pt}"))}
if (ii %% 2 == 1) {  cat(paste("  \\rule{\\textwidth}{.4pt} "))}
}
library(knitr)
library(xtable)
s <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-schedule.csv", header = F)
prelim_brackets <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-brackets.csv", stringsAsFactors = F))
prelim_bracket_names <- names(prelim_brackets)
### CHANGE ME!
bracket_room_list <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-rooms.csv", stringsAsFactors = F, header = T))
# bracket_room_list <- list(maple = letters[1:4], oak = letters[1:4], birch = letters[1:4], willow = letters[1:4], cedar = letters[1:4],
# elm = letters[1:4], chestnut = letters[1:4], hemlock = letters[1:4], pine = letters[1:4], ash = letters[1:4],
# magnolia = letters[1:4], dogwood = letters[1:4])
s <- as.matrix(s)
# colnames(s)  <- NULL
make_brackets_schedule <- function(s, which_bracket) {
to_return <- s
for (ii in 1:8){
to_return[which(to_return == ii)] <- which_bracket[ii]
}
rownames(to_return) = paste("Round", 1:7)
return(to_return)
}
prelim_bracket_schedules <- lapply(prelim_brackets, function(x) make_brackets_schedule(s, x))
prelim_printer <- function(bracket_name, bracket_sched, bracket_room_list) {
addtorow <- list()
addtorow$pos <- list(0,7)
addtorow$command <- c(paste0("& \\multicolumn{2}{c}{\\textbf{", bracket_room_list[1] ,"}} & \\multicolumn{2}{|c}{\\textbf{", bracket_room_list[2],"}} & \\multicolumn{2}{|c}{\\textbf{", bracket_room_list[3],"}} & \\multicolumn{2}{|c|}{\\textbf{", bracket_room_list[4], "}}  \\\\\n"),
paste0("\\hline \\multicolumn{9}{|c|}{After Round 7, send one student to room \\textbf{", bracket_room_list[1],"} to verify records.}  \\\\\n"))
xbracket_sched <- xtable(bracket_sched)
align(xbracket_sched) <-"|r|XX|XX|XX|XX|"
print(xbracket_sched, type = 'latex', add.to.row = addtorow, include.colnames = FALSE, comment=F, sanitize.colnames.function = bold, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H")
}
for(ii in 1:12 ) {
cat(paste("\n\n##", prelim_bracket_names[ii], "\n"))
cat("### Teams:\n")
aa <- matrix(sort(prelim_bracket_schedules[[ii]][1,]))
print(kable(t(aa)))
cat("### Schedule:\n")
prelim_printer(names(bracket_room_list)[ii], prelim_bracket_schedules[[ii]], bracket_room_list[[ii]])
cat("Playoff assignments will be posted	in several locations and to	the	PACE website by 2:30pm.	Teams	are	expected to	be in	their	Round	8	room,	ready	to play, by	2:50pm.	These	times	are	subject	to change.")
if (ii %% 2 == 0) {  cat("\\clearpage")}
if (ii %% 2 == 1) {  cat(paste(" \n \n \n \\rule{\\textwidth}{.4pt}"))}
if (ii %% 2 == 1) {  cat(paste("  \\rule{\\textwidth}{.4pt} "))}
}
knitr::opts_chunk$set(echo = F, warning = F)
library(dplyr)
bold <- function(x) {return(paste0("\\textbf{",x,"}"))}
library(stringr)
library(tidyr)
library(knitr)# ; library(kableExtra)
prelim_brackets <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-.csv", stringsAsFactors = F))
prelim_brackets <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds.csv", stringsAsFactors = F))
prelim_brackets2 <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-fri-morn.csv", stringsAsFactors = F))
prelim_brackets2
prelim_brackets2 <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-fri-morn.csv", stringsAsFactors = F))
prelim_brackets2
prelim_brackets_print <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-for-directory.csv", stringsAsFactors = F)
prelim_brackets_print2 <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-for-directory-fri-morn.csv", stringsAsFactors = F)
prelim_brackets_print2
prelim_brackets <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-fri-morn.csv", stringsAsFactors = F))
prelim_brackets
prelim_bracket_names <- names(prelim_brackets)
bracket_room_list <- as.list(read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-rooms.csv", stringsAsFactors = F, header = T))
s <- as.matrix(s)
s <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-prelim-schedule.csv", header = F)
s <- as.matrix(s)
make_brackets_schedule <- function(s, which_bracket) {
to_return <- s
teamnames <- sort(which_bracket)
for (ii in 1:8){
to_return[which(to_return == ii)] <- teamnames[ii]
}
rownames(to_return) = paste("Round", 1:7)
return(to_return)
}
prelim_bracket_schedules <- lapply(prelim_brackets, function(x) make_brackets_schedule(s, x))
prelim_printer <- function(bracket_name, bracket_sched, bracket_room_list) {
addtorow <- list()
addtorow$pos <- list(0,7)
addtorow$command <- c(paste0("& \\multicolumn{2}{c|}{\\textbf{", bracket_room_list[1] ,"}} & \\multicolumn{2}{c|}{\\textbf{", bracket_room_list[2],"}} & \\multicolumn{2}{c|}{\\textbf{", bracket_room_list[3],"}} & \\multicolumn{2}{c|}{\\textbf{", bracket_room_list[4], "}}  \\\\\n"),
paste0("\\hline \\multicolumn{9}{|c|}{After Round 7, send one student to \\textbf{", bracket_room_list[1],"} to verify records and determine tiebreakers.}  \\\\\n"))
xbracket_sched <- xtable(bracket_sched)
align(xbracket_sched) <-"|l|XX|XX|XX|XX|"
print(xbracket_sched, type = 'latex', add.to.row = addtorow, include.colnames = FALSE, comment=F, sanitize.colnames.function = bold, tabular.environment = "tabularx", width = "\\textwidth", table.placement = "H", size="\\footnotesize")
cat(paste0("**Do not leave for lunch until you are dismissed by your bracket captain in  ", bracket_room_list[1], "** \n\n"))
}
prelim_brackets_df <- as.data.frame(prelim_brackets)
prelim_brackets_print <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-for-directory.csv", stringsAsFactors = F)
team_dir <- reshape2::melt(prelim_brackets_print, measure.vars = 1:12)
colnames(team_dir) <- c("Bracket", "Team")
team_dir <- team_dir[order(team_dir$Team),]
team_dir <- team_dir %>% select(Team, Bracket)
team_dir_to_print <- team_dir[1:48,]
team_dir_to_print <- cbind(team_dir_to_print, team_dir[49:96,])
xteam_dir_to_print <- xtable(team_dir_to_print)
library(xtable)
xteam_dir_to_print <- xtable(team_dir_to_print)
align(xteam_dir_to_print) <- "cll||ll"
print(xteam_dir_to_print, type = 'latex', include.rownames = FALSE, comment=F, table.placement = "H", sanitize.colnames.function = bold, size="\\small")
for(ii in 1:12 ) {
cat(paste("\n\n##", prelim_bracket_names[ii], "\n"))
cat("### Teams:\n")
aa <- matrix(sort(prelim_brackets_print[,ii]), nrow = 4)
# colnames(aa) <- c("a", "b")
print(kable((aa)))
cat("### Schedule:\n")
prelim_printer(names(bracket_room_list)[ii], prelim_bracket_schedules[[ii]], bracket_room_list[[ii]])
# cat("blah lunch blah\n\n")
cat("Minimatches will be played to break ties that affect which Playoff tier teams advance to. Playoff assignments will be posted	in several locations and to	the	PACE website by ~2:30pm.	Teams	are	expected to	be in	their	Round	8	room,	ready	to play, by	2:50pm.")
if (ii %% 2 == 0) {  cat("\\clearpage")}
if (ii %% 2 == 1) {  cat(paste(" \n \n \n \\rule{\\textwidth}{.4pt}"))}
if (ii %% 2 == 1) {  cat(paste("  \\rule{\\textwidth}{.4pt} "))}
}
colnames(aa) <- c("a", "b")
print(kable((aa)))
cat("### Schedule:\n")
prelim_bracket_schedules
prelim_bracket_schedules[[1]]
prelim_bracket_schedules[[12]]
prelim_bracket_schedules <- lapply(prelim_brackets, function(x) make_brackets_schedule(s, x))
prelim_brackets
prelim_brackets[[12]]
prelim_brackets[[11]]
prelim_brackets[[1]]
prelim_brackets[[2]]
prelim_brackets[[4]]
prelim_brackets[[6]]
prelim_brackets[[8]]
prelim_brackets[[10]]
aa <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-pace-nsc-seeds-fri-morn.csv")
=
aa
as.matrix(aa)
as.vector(as.matrix(aa))
length(unique(as.vector(as.matrix(aa))))
apply(aa, 2, function(x) length(unique(x)))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
bold <- function(x) {return(paste0("\\textbf{",x,"}"))}
library(stringr)
library(tidyr)
library(knitr); library(kableExtra)
assignments <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-nsc-staff-assignments.csv", stringsAsFactors = F)
# assignments
saturday <- assignments %>% select(name = saturday.reader, "Saturday room" = room, "Control room" = control.room)
saturday <- rbind(saturday, assignments %>% select(name = saturday.scorekeeper, "Control room" = control.room, "Saturday room" = room) %>% filter(name != "-"))
# saturday$role <- c(rep("Mod 1", 48), rep("Mod 2", 40))
#, "Prelims bracket" = prelim_bracket, "Playoffs bracket" = playoff_bracket
saturday <- extract(saturday, name, c("First Name", "Last Name"), "([^ ]+) (.*)")
saturday <- saturday %>% arrange(`Last Name`)
# saturday <- saturday %>% select(`Last Name`, `First Name`, Room:`Playoffs bracket`)
saturday <- saturday %>% select(`Last Name`, `First Name`, `Saturday room`:`Control room`)
saturday_to_print <- saturday[1:45, ]
saturday_to_print <- cbind(saturday_to_print, saturday[46:90, ])
assignments <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-nsc-staff-assignments.csv", stringsAsFactors = F)
saturday <- assignments %>% select(name = saturday.reader, "Saturday room" = room, "Control room" = control.room)
saturday <- rbind(saturday, assignments %>% select(name = saturday.scorekeeper, "Control room" = control.room, "Saturday room" = room) %>% filter(name != "-"))
saturday <- extract(saturday, name, c("First Name", "Last Name"), "([^ ]+) (.*)")
assignments <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-nsc-staff-assignments.csv", stringsAsFactors = F)
saturday <- assignments %>% select(name = saturday.reader, "Saturday room" = room, "Control room" = control.room)
saturday <- rbind(saturday, assignments %>% select(name = saturday.scorekeeper, "Control room" = control.room, "Saturday room" = room) %>% filter(name != "-"))
saturday <- extract(saturday, name, c("First Name", "Last Name"), "([^ ]+) (.*)")
saturday
control <- read.csv("~/nongrad/quizbowl/2017-pacensc/program/schedule/2017-nsc-control-staff.csv")
linesep
linesep = c("", "","",  "\\addlinespace")
linesep = c("", "","",  "\\addlinespace")
linesep
